# 风控模块

提升系统整体的安全性， 主要的目标是防止盗币、欺诈、洗钱与以及内部作恶。而且需要在尽量不破坏用户体验下拦截高风险行为。

## 设计更新，

我们当前的设计上，其实是**存在一些安全风险的**：例如 wallet 和 scan 模块都直接访问数据库，缺乏统一权限控制，很可能出现开发人员可以绕过业务逻辑直接修改敏感数据。

加入数据库网关模块，部署，单独的服务端口，只允许内网访问

各模块职责清晰分离，

有效防止内部作恶并提供完整的操作审计



  1. 权限管理:
    - Level 1: 读操作（模块身份验证）
    - Level 2: 写操作（模块签名）
    - Level 3: 敏感操作（业务签名 + 风控评估）


**Level 1 - 读操作**
- 权限要求：模块身份验证
- 适用操作：查询用户余额、钱包信息、交易记录等
- 签名要求：模块身份Token
- 适用模块：Wallet、Scan

**Level 2 - 一般写操作**
- 权限要求：业务模块签名
- 适用操作：区块链扫描数据录入、钱包状态更新等
- 签名要求：业务模块签名
- 适用模块：Scan（充值检测）、Wallet（非敏感更新）

**Level 3 - 敏感操作**
- 权限要求：业务 + 风控双重签名
- 适用操作：用户余额变更、提现处理、热钱包操作
- 签名要求：业务签名 + 风控签名
- 适用模块：Wallet（提现、余额调整）

- 无法有效防范内部作恶行为

## 多重校验

- 敏感操作（如提现）缺乏有效的多重验证


保证可审计、可回溯、可响应、并满足监管合规。


 权限分级: 读操作、写操作、敏感操作的三级权限管理


（时间戳验证）

RS256 与 Ed25519 签名验签



-   3. 风控系统:
    - 大额提现自动检测
    - 频繁操作模式识别
    - 可配置风控规则
    - 自动/人工审批决策