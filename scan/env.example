# Database Gateway Configuration for Scan Module

# Gateway Service URL
DATABASE_GATEWAY_URL=http://localhost:3003

# Scan Module Private Key for signing (hex format)
# This should be generated using the gateway service's /generate-keypair endpoint
# The corresponding public key should be configured in the gateway service
SCAN_PRIVATE_KEY=

# Example (DO NOT USE IN PRODUCTION):
# SCAN_PRIVATE_KEY=1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# 以太坊 RPC 节点 URL (必需)
ETH_RPC_URL=http://127.0.0.1:8545

# 替代 RPC URLs (可选，用作备份)
ETH_RPC_URL_BACKUP=http://127.0.0.1:8545

# 数据库文件路径 (必需)
DATABASE_URL=../db_gateway/wallet.db

# 扫描起始区块 (可选，默认为 1)
START_BLOCK=1

# 确认区块数 (可选，默认为 32)
CONFIRMATION_BLOCKS=32

# 扫描批次大小 (可选，默认为 10)
SCAN_BATCH_SIZE=10

# 重组检查深度 (可选，默认为 64)
REORG_CHECK_DEPTH=64

# 扫描间隔 (秒，可选，默认为 12)
SCAN_INTERVAL=12

# RPC 请求并发数 (可选，默认为 5)
MAX_CONCURRENT_REQUESTS=5

# 终结性配置
# 是否使用网络终结性标记 (可选，默认为 false)
# 当为 false 时，使用 CONFIRMATION_BLOCKS 作为确认数
# safe 状态 = CONFIRMATION_BLOCKS / 2，finalized 状态 = CONFIRMATION_BLOCKS
USE_NETWORK_FINALITY=false

# 日志级别 (可选，默认为 info)
LOG_LEVEL=info
